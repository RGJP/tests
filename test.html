<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3pro.css">

<head>
  <title>Test 1.9</title>
  <script>
    function showBrowserInfo() {
      var browserInfo = "";
      browserInfo += "Browser Version: " + navigator.appVersion + "<br><br>";
      browserInfo += "User Agent: " + navigator.userAgent + "<br><br>";
      browserInfo += "Platform: " + navigator.platform + "<br><br>";
      document.getElementById("browser-info").innerHTML = browserInfo;
    }

    function populateVoices() {
      var voices = speechSynthesis.getVoices();
      var voicesList = document.getElementById("voicesList");

      if (voices.length === 0) {
        // Voices are not yet loaded, try again after a delay
        setTimeout(function() {
          populateVoices();
        }, 100);
        return;
      }

      var voiceNames = "";
      for (var i = 0; i < voices.length; i++) {
        voiceNames += voices[i].name + "<br>";
      }

      voicesList.innerHTML = voiceNames;
    }

    window.onload = function() {
      showBrowserInfo();
      if ('speechSynthesis' in window) {
        alert('OK - speechSynthesis was found in window');
      } else {
        alert('ERROR - speechSynthesis was NOT FOUND in window');
      }

      if ('onvoiceschanged' in speechSynthesis) {
        speechSynthesis.onvoiceschanged = populateVoices;
      } else {
        // Fallback for browsers that don't support onvoiceschanged event
        populateVoices();
      }
    };
  </script>
</head>

<body>
  <h2>Browser Information</h2>
  <p id="browser-check"></p>
  <p id="browser-info"></p>
  <h2>Available Speech Synthesis API Voices</h2>
  <p id="voicesList"></p>
</body>

</html>
